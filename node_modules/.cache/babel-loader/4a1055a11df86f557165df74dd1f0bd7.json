{"ast":null,"code":"export const initialState = {\n  basket: [{\n    id: \"3254354345\",\n    title: \"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB)- Silver (4th Generation)\",\n    price: 598.99,\n    rating: 4,\n    image: \"https://images-na.ssl-images-amazon.com/images/I/81oFAZ9N6bL._SL1500_.jpg\"\n  }, {\n    id: \"3254354345\",\n    title: \"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB)- Silver (4th Generation)\",\n    price: 598.99,\n    rating: 4,\n    image: \"https://images-na.ssl-images-amazon.com/images/I/81oFAZ9N6bL._SL1500_.jpg\"\n  }],\n  user: null\n};\nexport const getBasketTotal = basket => basket === null || basket === void 0 ? void 0 : basket.reduce((amount, item) => item.price + amount, 0);\n\nconst reducer = (state, action) => {\n  console.log(action);\n\n  switch (action.type) {\n    case \"ADD_TO_BASKET\":\n      return { ...state,\n        basket: [...state.basket, action.item]\n      };\n\n    case \"REMOVE_FROM_BASKET\":\n      let newBasket = [...state.basket];\n      const index = state.basket.findIndex(basketItem => basketItem.id === action.id);\n\n      if (index >= 0) {\n        // item exists in basket, remove it...\n        newBasket.splice(index, 1);\n      } else {\n        console.warn('Cant remove product (id: ${action.id}) as its not in basket!');\n      }\n\n      return { ...state,\n        basket: newBasket\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:/amazon-clone/src/reducer.js"],"names":["initialState","basket","id","title","price","rating","image","user","getBasketTotal","reduce","amount","item","reducer","state","action","console","log","type","newBasket","index","findIndex","basketItem","splice","warn"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG;AACxBC,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,EAAE,EAAC,YADL;AAEEC,IAAAA,KAAK,EACH,uEAHJ;AAIEC,IAAAA,KAAK,EAAC,MAJR;AAKEC,IAAAA,MAAM,EAAC,CALT;AAMEC,IAAAA,KAAK,EACH;AAPJ,GADM,EAUR;AACEJ,IAAAA,EAAE,EAAC,YADL;AAEEC,IAAAA,KAAK,EACH,uEAHJ;AAIEC,IAAAA,KAAK,EAAC,MAJR;AAKEC,IAAAA,MAAM,EAAC,CALT;AAMEC,IAAAA,KAAK,EACH;AAPJ,GAVQ,CADgB;AAqBxBC,EAAAA,IAAI,EAAE;AArBkB,CAArB;AAwBP,OAAO,MAAMC,cAAc,GAAIP,MAAD,IAC7BA,MAD6B,aAC7BA,MAD6B,uBAC7BA,MAAM,CAAEQ,MAAR,CAAe,CAACC,MAAD,EAASC,IAAT,KAAkBA,IAAI,CAACP,KAAL,GAAaM,MAA9C,EAAsD,CAAtD,CADM;;AAGP,MAAME,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACjCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;;AACE,UAAOA,MAAM,CAACG,IAAd;AACI,SAAK,eAAL;AACE,aAAM,EACJ,GAAGJ,KADC;AAEJZ,QAAAA,MAAM,EAAE,CAAC,GAAGY,KAAK,CAACZ,MAAV,EAAkBa,MAAM,CAACH,IAAzB;AAFJ,OAAN;;AAIF,SAAK,oBAAL;AACE,UAAIO,SAAS,GAAC,CAAC,GAAGL,KAAK,CAACZ,MAAV,CAAd;AACD,YAAMkB,KAAK,GAAGN,KAAK,CAACZ,MAAN,CAAamB,SAAb,CACXC,UAAD,IAAgBA,UAAU,CAACnB,EAAX,KAAkBY,MAAM,CAACZ,EAD7B,CAAd;;AAIA,UAAIiB,KAAK,IAAG,CAAZ,EAAc;AACZ;AACAD,QAAAA,SAAS,CAACI,MAAV,CAAiBH,KAAjB,EAAwB,CAAxB;AACD,OAHD,MAGO;AACLJ,QAAAA,OAAO,CAACQ,IAAR,CACE,8DADF;AAGD;;AACA,aAAO,EACL,GAAGV,KADE;AAELZ,QAAAA,MAAM,EAAEiB;AAFH,OAAP;;AAIA;AACI,aAAOL,KAAP;AAzBV;AA2BD,CA7BH;;AA+BA,eAAeD,OAAf","sourcesContent":["export const initialState = {\r\n    basket: [\r\n      {\r\n        id:\"3254354345\",\r\n        title:\r\n          \"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB)- Silver (4th Generation)\",\r\n        price:598.99,\r\n        rating:4,\r\n        image:\r\n          \"https://images-na.ssl-images-amazon.com/images/I/81oFAZ9N6bL._SL1500_.jpg\"\r\n    },\r\n    {\r\n      id:\"3254354345\",\r\n      title:\r\n        \"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB)- Silver (4th Generation)\",\r\n      price:598.99,\r\n      rating:4,\r\n      image:\r\n        \"https://images-na.ssl-images-amazon.com/images/I/81oFAZ9N6bL._SL1500_.jpg\"\r\n  },\r\n  ],\r\n    user: null,\r\n};\r\n\r\nexport const getBasketTotal = (basket) =>\r\n basket?.reduce((amount, item) => item.price + amount, 0);\r\n\r\nconst reducer = (state, action) => {\r\n  console.log(action);\r\n    switch(action.type){\r\n        case \"ADD_TO_BASKET\":\r\n          return{ \r\n            ...state,\r\n            basket: [...state.basket, action.item], \r\n          };\r\n        case \"REMOVE_FROM_BASKET\":\r\n          let newBasket=[...state.basket];\r\n         const index = state.basket.findIndex(\r\n           (basketItem) => basketItem.id === action.id\r\n         );\r\n    \r\n         if (index >=0){\r\n           // item exists in basket, remove it...\r\n           newBasket.splice(index, 1);\r\n         } else {\r\n           console.warn(\r\n             'Cant remove product (id: ${action.id}) as its not in basket!'\r\n           );\r\n         }\r\n          return { \r\n            ...state, \r\n            basket: newBasket,\r\n           };\r\n          default:\r\n              return state;\r\n    }\r\n  };\r\n\r\nexport default reducer;"]},"metadata":{},"sourceType":"module"}